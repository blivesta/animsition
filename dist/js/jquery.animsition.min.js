/*!
 * animsition v3.6.0
 * A simple and easy jQuery plugin for CSS animated page transitions.
 * http://blivesta.github.io/animsition
 * License : MIT
 * Author : blivesta (http://blivesta.com/)
 */
!function(n){"use strict";"function"==typeof define&&define.amd?define(["jquery"],n):"object"==typeof exports?module.exports=n(require("jquery")):n(jQuery)}(function(n){"use strict";var i="animsition",a={init:function(t){t=n.extend({inClass:"fade-in",outClass:"fade-out",inDuration:1500,outDuration:800,linkElement:".animsition-link",loading:!0,loadingParentElement:"body",loadingClass:"animsition-loading",unSupportCss:["animation-duration","-webkit-animation-duration","-o-animation-duration"],overlay:!1,overlayClass:"animsition-overlay-slide",overlayParentElement:"body",hideElementAfterTrans:".animsition-hide-after-transition"},t);var o=a.supportCheck.call(this,t);if(!o&&t.unSupportCss.length>0&&(!o||!this.length))return"console"in window||(window.console={},window.console.log=function(n){return n}),this.length||console.log("Animsition: Element does not exist on page."),o||console.log("Animsition: Does not support this browser."),a.destroy.call(this);var e=a.optionCheck.call(this,t);return e&&a.addOverlay.call(this,t),t.loading&&a.addLoading.call(this,t),this.each(function(){var o=this,e=n(this),s=n(window),r=e.data(i);r||(t=n.extend({},t),e.data(i,{options:t}),s.on("load."+i+" pageshow."+i,function(){a.pageIn.call(o)}),s.on("unload."+i,function(){}),n(t.linkElement).on("click."+i,function(i){i.preventDefault();var t=n(this),e=t.attr("href");2===i.which||i.metaKey||i.shiftKey||-1!==navigator.platform.toUpperCase().indexOf("WIN")&&i.ctrlKey?window.open(e,"_blank"):a.pageOut.call(o,t,e)}))})},addOverlay:function(i){n(i.overlayParentElement).prepend('<div class="'+i.overlayClass+'"></div>')},addLoading:function(i){n(i.loadingParentElement).append('<div class="'+i.loadingClass+'"></div>')},removeLoading:function(){var a=n(this),t=a.data(i).options,o=n(t.loadingParentElement).children("."+t.loadingClass);o.fadeOut().remove()},supportCheck:function(i){var a=n(this),t=i.unSupportCss,o=t.length,e=!1;0===o&&(e=!0);for(var s=0;o>s;s++)if("string"==typeof a.css(t[s])){e=!0;break}return e},optionCheck:function(i){var a,t=n(this);return a=i.overlay||t.data("animsition-overlay")?!0:!1},animationCheck:function(a,t,o){var e=n(this),s=e.data(i).options,r=typeof a,l=!t&&"number"===r,d=t&&"string"===r&&a.length>0;return l||d?a=a:t&&o?a=s.inClass:!t&&o?a=s.inDuration:t&&!o?a=s.outClass:t||o||(a=s.outDuration),a},pageIn:function(){var t=this,o=n(this),e=o.data(i).options,s=o.data("animsition-in-duration"),r=o.data("animsition-in"),l=a.animationCheck.call(t,s,!1,!0),d=a.animationCheck.call(t,r,!0,!0),c=a.optionCheck.call(t,e);e.loading&&a.removeLoading.call(t),c?a.pageInOverlay.call(t,d,l):a.pageInBasic.call(t,d,l)},pageInBasic:function(i,a){var t=n(this);t.trigger("animsition.start").css({"animation-duration":a/1e3+"s"}).addClass(i).animateCallback(function(){t.removeClass(i).css({opacity:1}).trigger("animsition.end")})},pageInOverlay:function(a,t){var o=n(this),e=o.data(i).options;o.trigger("animsition.start").css({opacity:1}),n(e.overlayParentElement).children("."+e.overlayClass).css({"animation-duration":t/1e3+"s"}).addClass(a).animateCallback(function(){o.trigger("animsition.end")})},pageOut:function(t,o){var e=this,s=n(this),r=s.data(i).options,l=t.data("animsition-out"),d=s.data("animsition-out"),c=t.data("animsition-out-duration"),u=s.data("animsition-out-duration"),h=l?l:d,m=c?c:u,p=a.animationCheck.call(e,h,!0,!1),f=a.animationCheck.call(e,m,!1,!1),g=a.optionCheck.call(e,r);g?a.pageOutOverlay.call(e,p,f,o):a.pageOutBasic.call(e,p,f,o)},pageOutBasic:function(a,t,o){var e=n(this),s=e.data(i).options;e.css({"animation-duration":t/1e3+"s"}).addClass(a).animateCallback(function(){location.href=o,n(s.hideElementAfterTrans).hide()})},pageOutOverlay:function(t,o,e){var s=this,r=n(this),l=r.data(i).options,d=r.data("animsition-in"),c=a.animationCheck.call(s,d,!0,!0);n(l.overlayParentElement).children("."+l.overlayClass).css({"animation-duration":o/1e3+"s"}).removeClass(c).addClass(t).animateCallback(function(){location.href=e,n(l.hideElementAfterTrans).hide()})},destroy:function(){return this.each(function(){var a=n(this);n(window).unbind("."+i),a.css({opacity:1}).removeData(i)})}};n.fn.animateCallback=function(i){var a="animationend webkitAnimationEnd mozAnimationEnd oAnimationEnd MSAnimationEnd";return this.each(function(){n(this).bind(a,function(){return n(this).unbind(a),i.call(this)})})},n.fn.animsition=function(t){return a[t]?a[t].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof t&&t?void n.error("Method "+t+" does not exist on jQuery."+i):a.init.apply(this,arguments)}});